### 1. Her yaml dosyası 4 ana bileşenden oluşur.

``` 
apiVersion: hangi api versionuyla tanımlanacak.
kind:       hangi tür obje oluşturulacak
metadata:   unig bilgileri tanımlarız.İsim gibi
spec:       objenin özelliklerini belirleme
``` 

- objectbasetemplate.yaml
``` 
apiVersion: v1
kind: Pod
metadata:
  name: firstpod
  labels:
    app: front-end
    team: developer

spec:
  containers:
  - name: nginx 
    image: nginx:latest
    ports:
    - containerPort: 80
``` 

``` 
kubectl apply -f pod1.yaml
``` 

``` 
kubectl describe pods firstpod
``` 

### 2. Pod Yaşam döngüsü

- Always : Container içindeki uygulama bir şekilde kapanırsa her zamana tekrardan çalışması komutu.
- On-failure: hata alıp kapanırdsa yeniiden çalışır
- Never : Hiç bir zaman başlamaz

``` 
Pending : Pod ile ilgili bilgiler kaydedildi ancak oluşturulmadı.
Creating : Kube scheduler üretim için node ayarlar uygun node bulamamış ise yaratma olmaz
İmagePullBackOff : Kubelet oluşturamayınca olan hata
Running : Kubelet container yapma süreci
Succeeded : Başarılı şekilde başlamış
Failed : Başarılı olmamışsa
CrashLoopBackOff : Container sık sık kapanıuorsa container çalışma durumu bunu gösterir.
``` 

### 3. Çoklu Container
- Nginx imajedan oluşan bir web sayfası oluşturulacak
- 2. container web ile ilgili bilgilerin bulunduğu github deposundan bilgileri alacak ve volume kaydedecek
- Nginx de aynı volume bağlı olduğu için burdaki bilgileri okuyarak web i güncelleyecek 

-podmulticontainer.yaml

``` 
apiVersion: v1
kind: Pod
metadata:
  name: multicontainer
spec:
  containers:
  - name: webcontainer
    image: nginx
    ports:
      - containerPort: 80
    volumeMounts:
    - name: sharedvolume
      mountPath: /usr/share/nginx/html
  - name: sidecarcontainer
    image: busybox
    command: ["/bin/sh"]
    args: ["-c", "while true; do wget -O /var/log/index.html https://raw.githubusercontent.com/ozgurozturknet/hello-world/master/index.html; sleep 15; done"]
    volumeMounts:
    - name: sharedvolume
      mountPath: /var/log
  volumes:
  - name: sharedvolume
    emptyDir: {}

``` 

```
kubectl apply -f podmulticontainer.yaml
```

```
kubectl get pods
```

```
kubectl port-forward pod/multicontainer 8080:80
```


### 4. Inıt Container

- Bir container çalışmadan diğer container çalışmaz